/*
 * Note: this file originally auto-generated by mib2c using
 *        : mib2c.old-api.conf,v 1.3 2002/10/17 09:40:46 dts12 Exp $
 */

#include <net-snmp/net-snmp-config.h>
#include <net-snmp/net-snmp-includes.h>
#include <net-snmp/agent/net-snmp-agent-includes.h>
#include <net-snmp/data_access/interface.h>
#include "networkTable.h"

/* #defines section */
#define NET_MONOTONICALLY_INCREASING
#define NET_FILE "/proc/net/dev"
#define CACHE_TIMEOUT 5

/* 
 * networkTable_variables_oid:
 *   this is the top level oid that we want to register under.  This
 *   is essentially a prefix, with the suffix appearing in the
 *   variable below.
 */

oid networkTable_variables_oid[] = { 1,3,6,1,4,1,3204,1,3,25 };

/* 
 * variable4 networkTable_variables:
 *   this variable defines function callbacks and type return information 
 *   for the  mib section 
 */

struct variable4 networkTable_variables[] = {
/*  magic number        , variable type , ro/rw , callback fn  , L, oidsuffix */

};
/*    (L = length of the oidsuffix) */


struct gstNet{
	char 	      szName[30];
	unsigned long ulRBytes;
	unsigned long ulRPkts;
	unsigned long ulRErrs;
	unsigned long ulRDrop;
	unsigned long ulRFifo;
	unsigned long ulRFrame;
	unsigned long ulRCompressed;
	unsigned long ulRMultiCast;
	unsigned long ulTBytes;
	unsigned long ulTPkts;
	unsigned long ulTErrs;
	unsigned long ulTDrop;
	unsigned long ulTFifo;
	unsigned long ulColls;
	unsigned long ulTCarrier;
	unsigned long ulTCompressed;
};

static struct gstNet *gpstNetFirst = NULL;
static struct gstNet *gpstNetStat = NULL;
static int giNetIdx = 0;
static int giNetCnt = 0;
netsnmp_interface_entry * entry;

/** Initializes the networkTable module */
void
init_networkTable(void)
{
    
    DEBUGMSGTL(("networkTable", "Initializing\n"));

    /* register ourselves with the agent to handle our mib tree */
    REGISTER_MIB("networkTable", networkTable_variables, variable4,
               networkTable_variables_oid);

    /* place any other initialization junk you need here */
}
