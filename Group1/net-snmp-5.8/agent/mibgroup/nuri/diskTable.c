/*
 * Note: this file originally auto-generated by mib2c using
 *        : mib2c.old-api.conf,v 1.3 2002/10/17 09:40:46 dts12 Exp $
 */
#include <net-snmp/net-snmp-config.h>
#include <net-snmp/net-snmp-includes.h>
#include <net-snmp/agent/net-snmp-agent-includes.h>
#include "diskTable.h"
#include <net-snmp/agent/auto_nlist.h>
#include <fcntl.h>

/* #defines section */
#define DISK_MONOTONICALLY_INCREASING
#define PAGING_NOT_SUPPORTED 0
#define KBYTE 1024
#define STAT "/proc/stat"
#define MAXDISK 64

/* 
 * diskTable_variables_oid:
 *   this is the top level oid that we want to register under.  This
 *   is essentially a prefix, with the suffix appearing in the
 *   variable below.
 */
  
oid diskTable_variables_oid[] = { 1,3,6,1,4,1,3204,1,3,22 };

/* 
 * variable4 diskTable_variables:
 *   this variable defines function callbacks and type return information 
 *   for the  mib section 
 */

struct variable4 diskTable_variables[] = {
/*  magic number        , variable type , ro/rw , callback fn  , L, oidsuffix */

};
/*    (L = length of the oidsuffix) */

/* typedefs */
struct gstDiskStat{
    unsigned int  uiMajor;
    unsigned int  uiIndex;
    unsigned long ulIOTot;
    unsigned long ulIORead;
    unsigned long ulIOWrite;
    unsigned long ulBRead;
    unsigned long ulBWrite;
};

/* Global Declaration */
static int giDiskIdx=0;
static int giDiskCnt=0;
static struct gstDiskStat *gpstDiskFirst = NULL;
static struct gstDiskStat *gpstDiskStat = NULL;


/** Initializes the diskTable module */
void
init_diskTable(void)
{

    DEBUGMSGTL(("diskTable", "Initializing\n"));

    /* register ourselves with the agent to handle our mib tree */
    REGISTER_MIB("diskTable", diskTable_variables, variable4,
               diskTable_variables_oid);

    /* place any other initialization junk you need here */
}